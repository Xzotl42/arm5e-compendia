{"name":"CreateCompendiaModule","type":"script","scope":"global","author":"ErQ613O32LNYb71L","img":"icons/tools/hand/brush-paint-brown-white.webp","command":"game.arm5eCompendia.CompendiaUtils.showGeneratorDialog();","folder":"6Q9SpSViOfYTtLz6","ownership":{"default":0,"1JBSgWiiwizu7vru":3,"ErQ613O32LNYb71L":3},"flags":{"core":{},"socketmacros":{"isSocket":false}},"_stats":{"systemId":"arm5e","systemVersion":"2.2.4.12","coreVersion":"12.343","createdTime":1696576528341,"modifiedTime":1764512091057,"lastModifiedBy":"ErQ613O32LNYb71L","compendiumSource":null,"duplicateSource":null},"_id":"0YZEIpzmg9wX9enu","sort":300000}
{"name":"Reset lab planning","type":"script","scope":"global","author":"tBE5EmoIXLzf3maM","img":"icons/svg/card-joker.svg","command":"const tokens = canvas.tokens.controlled;\n\nif (tokens.length == 1 ){\n  await fixLab(tokens[0]);\n} else {\n  ui.notifications.info(\"No Tokens or too many tokens were selected\");\n}\n\nasync function fixLab(token){\n  if (!token.isOwner) {\n    ui.notifications.info(\"You don't own that token\");\n  }\n  let actorSheet = token.actor.sheet;\n  if (token.actor.type === \"laboratory\") {\n    await actorSheet._resetPlanning()\n    ui.notifications.info(`Lab reset`);\n  }\n  else {\n      ui.notifications.info(`Not a lab`);\n  }\n  \n}","ownership":{"default":0,"ErQ613O32LNYb71L":3,"tBE5EmoIXLzf3maM":3},"flags":{"core":{"sourceId":"Macro.FL254GFtSFOTzooP"},"socketmacros":{"isSocket":false}},"_stats":{"compendiumSource":"Macro.FL254GFtSFOTzooP","duplicateSource":null,"coreVersion":"12.331","systemId":"arm5e","systemVersion":"2.3.2.5","createdTime":1730094485446,"modifiedTime":1743316271731,"lastModifiedBy":"xMd6zrGNn4dbQYey"},"folder":"qGZgdsZ3cZpILlVt","_id":"7aqQxgRlPcDky5BL","sort":100000}
{"name":"Display RollData","type":"script","command":"// Display the content of RollData in the console\n// it can be used to refer to an actor stat in an inline roll\n\n// get an array with all the selected token\nconst tokens = canvas.tokens.controlled;\n\nif (tokens.length != 1 ){\n  ui.notifications.info(\"No Tokens or too many tokens were selected\");\n} else {\n  let actor = tokens[0].actor;\n  let data = actor.getRollData();\n  console.log(data);\n}","img":"icons/svg/dice-target.svg","author":"6SdI10VpXHcBvx2J","scope":"global","folder":"qGZgdsZ3cZpILlVt","ownership":{"default":0,"6SdI10VpXHcBvx2J":3},"flags":{},"_stats":{"compendiumSource":null,"duplicateSource":null,"coreVersion":"12.343","systemId":"arm5e","systemVersion":"2.3.2.5","createdTime":1730838256561,"modifiedTime":1764512097078,"lastModifiedBy":"ErQ613O32LNYb71L"},"_id":"83Qwa3xUW7OCiKXQ","sort":500000}
{"name":"Quick combat","type":"script","scope":"global","author":"xMd6zrGNn4dbQYey","img":"icons/skills/melee/sword-shield-stylized-white.webp","command":"const tokens = canvas.tokens.controlled;\n\nif (tokens.length == 1 ){\n  await quickCombat(tokens[0]);\n} else {\n  ui.notifications.info(\"No Tokens or too many tokens were selected\");\n}\n\nasync function quickCombat(token){\n  if (!token.isOwner) {\n    ui.notifications.info(\"You don't own that token\");\n  }\n  let actor = token.actor;\n  \n  \n  await actor.sheet.quickCombat(token.name);\n  \n}\n\n\t\nfunction printMessage(message){\n  let chatData = {\n    user : game.user._id,\n    content : message,\n    blind: true,\n    whisper : game.users.filter(u => u.isGM).map(u => u.id)\n  };\n  ChatMessage.create(chatData,{});\t\n}","ownership":{"default":0,"4OxU3E57BM9ttwDI":3,"xMd6zrGNn4dbQYey":3},"flags":{"core":{"sourceId":"Macro.5rEb7IVg2dJRWd73"}},"_stats":{"compendiumSource":"Macro.5rEb7IVg2dJRWd73","duplicateSource":null,"coreVersion":"12.343","systemId":"arm5e","systemVersion":"2.4.0.13","createdTime":1756497823210,"modifiedTime":1764512140785,"lastModifiedBy":"ErQ613O32LNYb71L"},"folder":"2uW3ICAU7LfWYfbq","_id":"8MSfsJjLiKbNhzil","sort":400000}
{"name":"Arcane Experimentation","type":"script","command":"game.arm5e.ArsApps.openLabExperimentation();","img":"icons/sundries/documents/document-symbol-circle-gold-red.webp","author":"ErQ613O32LNYb71L","scope":"global","folder":"2uW3ICAU7LfWYfbq","ownership":{"default":0,"ErQ613O32LNYb71L":3},"flags":{},"_stats":{"compendiumSource":null,"duplicateSource":null,"coreVersion":"12.343","systemId":"arm5e","systemVersion":"2.4.0.4","createdTime":1752389341230,"modifiedTime":1764512140785,"lastModifiedBy":"ErQ613O32LNYb71L"},"_id":"9KrIjGtLn82yixAo","sort":200000}
{"name":"Open Aura management","type":"script","scope":"global","author":"ErQ613O32LNYb71L","img":"systems/arm5e/assets/icons/Icon_Effects.png","command":"game.arm5e.ArsLayer.openAuraConfig();","folder":"2uW3ICAU7LfWYfbq","ownership":{"default":0,"ErQ613O32LNYb71L":3},"flags":{"core":{}},"_stats":{"systemId":"arm5e","systemVersion":"2.2.4.12","coreVersion":"12.343","createdTime":1705161722316,"modifiedTime":1764512143080,"lastModifiedBy":"ErQ613O32LNYb71L","compendiumSource":null,"duplicateSource":null},"_id":"AuzYTK1BQF3xKID4","sort":700000}
{"name":"Quick magic","type":"script","scope":"global","author":"xMd6zrGNn4dbQYey","img":"icons/magic/movement/trail-streak-zigzag-teal.webp","command":"const tokens = canvas.tokens.controlled;\n\nif (tokens.length == 1 ){\n  await quickMagic(tokens[0]);\n} else {\n  ui.notifications.info(\"No Tokens or too many tokens were selected\");\n}\n\nasync function quickMagic(token){\n  if (!token.isOwner) {\n    ui.notifications.info(\"You don't own that token\");\n  }\n  let actor = token.actor;\n  \n  \n  await actor.sheet.quickMagic(token.name);\n  \n}\n\n\t\nfunction printMessage(message){\n  let chatData = {\n    user : game.user._id,\n    content : message,\n    blind: true,\n    whisper : game.users.filter(u => u.isGM).map(u => u.id)\n  };\n  ChatMessage.create(chatData,{});\t\n}","ownership":{"default":0,"ErQ613O32LNYb71L":3,"xMd6zrGNn4dbQYey":3},"flags":{"core":{"sourceId":"Macro.JD9ajV5NV48yI7fv"}},"_stats":{"compendiumSource":"Macro.JD9ajV5NV48yI7fv","duplicateSource":null,"coreVersion":"12.343","systemId":"arm5e","systemVersion":"2.4.0.13","createdTime":1756497865649,"modifiedTime":1764512140785,"lastModifiedBy":"ErQ613O32LNYb71L"},"folder":"2uW3ICAU7LfWYfbq","_id":"BN2lYZMtvX7MX6cj","sort":100000}
{"name":"Migrate World Icons","type":"script","scope":"global","author":"6SdI10VpXHcBvx2J","img":"icons/svg/card-hand.svg","command":"const items = game.items.filter(e => e.type == \"ability\" || e.type == \"virtue\" || e.type == \"flaw\");\nui.notifications.info(`${items.length} items found`);\n\n\n\nlet updatedItems = []\nfor (let it of items) {\n    if (it.img == CONFIG.ARM5E_DEFAULT_ICONS[it.type] ||\n    it.img === \"icons/svg/mystery-man.svg\" ||\n    it.img === \"icons/svg/item-bag.svg\") {\n        \n      console.log(it.name);\n      let itemData = {_id : it._id, img : CONFIG.Item.systemDataModels[it.type].getIcon(it)};\n      updatedItems.push(itemData);\n    }\n}\nlet updated = await Item.updateDocuments(updatedItems);\n\n\n\nui.notifications.info(`${updated.length} items updated`);","ownership":{"default":0,"ErQ613O32LNYb71L":3,"6SdI10VpXHcBvx2J":3},"flags":{"core":{"sourceId":"Macro.5yOsEAKylIbEuCl7"}},"_stats":{"compendiumSource":"Macro.5yOsEAKylIbEuCl7","duplicateSource":null,"coreVersion":"12.331","systemId":"arm5e","systemVersion":"2.3.2.7","createdTime":1731268014718,"modifiedTime":1743316271731,"lastModifiedBy":"xMd6zrGNn4dbQYey"},"folder":"qGZgdsZ3cZpILlVt","_id":"DIOTvbubqoeBH4Ky","sort":300000}
{"name":"Sanitization","type":"script","scope":"global","author":"ErQ613O32LNYb71L","img":"icons/tools/hand/broom-straw-brown.webp","command":"game.arm5eCompendia.CompendiaUtils.showSanitizationTool();","folder":"6Q9SpSViOfYTtLz6","ownership":{"default":0,"ErQ613O32LNYb71L":3},"flags":{"socketmacros":{"isSocket":false},"core":{}},"_stats":{"systemId":"arm5e","systemVersion":"2.2.4.12","coreVersion":"12.343","createdTime":1710003733506,"modifiedTime":1764512114083,"lastModifiedBy":"ErQ613O32LNYb71L","compendiumSource":null,"duplicateSource":null},"_id":"Dyw5EF1mv43ksFVZ","sort":600000}
{"name":"Open Scriptorium","type":"script","scope":"global","author":"ErQ613O32LNYb71L","img":"systems/arm5e/assets/icons/Icon_Details_option1.png","command":"game.arm5e.ArsLayer.openScriptorium()","folder":"2uW3ICAU7LfWYfbq","ownership":{"default":0,"ErQ613O32LNYb71L":3},"flags":{"core":{}},"_stats":{"systemId":"arm5e","systemVersion":"2.2.4.12","coreVersion":"12.343","createdTime":1705160707113,"modifiedTime":1764512140785,"lastModifiedBy":"ErQ613O32LNYb71L","compendiumSource":null,"duplicateSource":null},"_id":"IaS542uskSyGncNz","sort":500000}
{"name":"Quick vitals","type":"script","scope":"global","author":"xMd6zrGNn4dbQYey","img":"icons/magic/life/crosses-trio-red.webp","command":"const tokens = canvas.tokens.controlled;\n\nif (tokens.length == 1 ){\n  await quickVitals(tokens[0]);\n} else {\n  ui.notifications.info(\"No Tokens or too many tokens were selected\");\n}\n\nasync function quickVitals(token){\n  if (!token.isOwner) {\n    ui.notifications.info(\"You don't own that token\");\n  }\n  let actor = token.actor;\n  \n  \n  await actor.sheet.quickVitals(token.name);\n  \n}\n\n\t\nfunction printMessage(message){\n  let chatData = {\n    user : game.user._id,\n    content : message,\n    blind: true,\n    whisper : game.users.filter(u => u.isGM).map(u => u.id)\n  };\n  ChatMessage.create(chatData,{});\t\n}","ownership":{"default":0,"4OxU3E57BM9ttwDI":3,"xMd6zrGNn4dbQYey":3},"flags":{"core":{"sourceId":"Macro.5rEb7IVg2dJRWd73"}},"_stats":{"compendiumSource":"Macro.5rEb7IVg2dJRWd73","duplicateSource":null,"coreVersion":"12.343","systemId":"arm5e","systemVersion":"2.4.0.13","createdTime":1756497868144,"modifiedTime":1764512140785,"lastModifiedBy":"ErQ613O32LNYb71L"},"folder":"2uW3ICAU7LfWYfbq","_id":"QEWYXDyWkB2q0MVH","sort":300000}
{"name":"Migrate icons of actor","type":"script","scope":"global","author":"6SdI10VpXHcBvx2J","img":"icons/svg/card-joker.svg","command":"const tokens = canvas.tokens.controlled;\n\nif (tokens.length == 1 ){\n  await updateIcons(tokens[0]);\n} else {\n  ui.notifications.info(\"No Tokens or too many tokens were selected\");\n}\n\nasync function updateIcons(token){\n  if (!token.isOwner) {\n    ui.notifications.info(\"You don't own that token\");\n  }\n  let actor = token.actor;\n  \n  \n  const items = actor.items.filter(e => e.type == \"ability\" || e.type == \"virtue\" || e.type == \"flaw\");\n  ui.notifications.info(`${items.length} items found`);\n\n  let updatedItems = []\n  for (let it of items) {\n    if (it.img == CONFIG.ARM5E_DEFAULT_ICONS[it.type] ||\n    it.img === \"icons/svg/mystery-man.svg\" ||\n    it.img === \"icons/svg/item-bag.svg\") {\n        \n      console.log(it.name);\n      let itemData = {_id : it._id, img : CONFIG.Item.systemDataModels[it.type].getIcon(it)};\n      updatedItems.push(itemData);\n    }\n  }\n  let updated = await actor.updateEmbeddedDocuments(\"Item\",updatedItems);\n\n  ui.notifications.info(`${updated.length} items updated`);\n  \n}","ownership":{"default":0,"ErQ613O32LNYb71L":3,"6SdI10VpXHcBvx2J":3},"flags":{"core":{"sourceId":"Macro.FL254GFtSFOTzooP"}},"_stats":{"compendiumSource":"Macro.FL254GFtSFOTzooP","duplicateSource":null,"coreVersion":"12.331","systemId":"arm5e","systemVersion":"2.3.2.7","createdTime":1731268016499,"modifiedTime":1743316271731,"lastModifiedBy":"xMd6zrGNn4dbQYey"},"folder":"qGZgdsZ3cZpILlVt","_id":"Ruj42ho3vlQDyczk","sort":400000}
{"name":"Enrich document","type":"script","command":"game.arm5eCompendia.CompendiaUtils.showDocumentEnricherUI();","img":"icons/containers/bags/coinpouch-gold-red.webp","author":"6SdI10VpXHcBvx2J","scope":"global","folder":"6Q9SpSViOfYTtLz6","ownership":{"default":0,"6SdI10VpXHcBvx2J":3},"flags":{},"_stats":{"compendiumSource":null,"duplicateSource":null,"coreVersion":"12.343","systemId":"arm5e","systemVersion":"2.3.2.7","createdTime":1731133190298,"modifiedTime":1764512100879,"lastModifiedBy":"ErQ613O32LNYb71L"},"_id":"VyQOime9Prr3tpxZ","sort":400000}
{"name":"Roll for damage","type":"script","img":"icons/skills/wounds/injury-body-pain-gray.webp","command":"const tokens = canvas.tokens.controlled;\n\nif (tokens.length == 0 ){\n    ui.notifications.info(\"No Tokens are selected.\");\n} else {\n    await rollForDamage(tokens);\n  \n}\n\nasync function rollForDamage(tokens){\n  \n  await game.arm5e.ArsApps.rollForDamage(tokens)\n  \n  \n}\n\n\t\nfunction printMessage(message){\n  let chatData = {\n    user : game.user._id,\n    content : message,\n    blind: true,\n    whisper : game.users.filter(u => u.isGM).map(u => u.id)\n  };\n  ChatMessage.create(chatData,{});\t\n}","flags":{"arm5e":{"itemMacro":true}},"author":"ErQ613O32LNYb71L","scope":"global","folder":null,"ownership":{"default":0,"ErQ613O32LNYb71L":3},"_stats":{"compendiumSource":null,"duplicateSource":null,"coreVersion":"12.343","systemId":"arm5e","systemVersion":"2.4.1.4","createdTime":1764512154918,"modifiedTime":1764512154918,"lastModifiedBy":"ErQ613O32LNYb71L"},"_id":"Xadnm7eT1PSTRt0h","sort":0}
{"name":"Actor Importer","type":"script","scope":"global","author":"ErQ613O32LNYb71L","img":"icons/sundries/books/book-embossed-steel-brown.webp","command":"game.arm5eCompendia.CompendiaUtils.showImporter();","folder":"6Q9SpSViOfYTtLz6","ownership":{"default":0,"ErQ613O32LNYb71L":3,"6SdI10VpXHcBvx2J":3},"flags":{"socketmacros":{"isSocket":false},"core":{}},"_stats":{"compendiumSource":null,"duplicateSource":null,"coreVersion":"12.343","systemId":"arm5e","systemVersion":"2.3.2.9","createdTime":1732217471578,"modifiedTime":1764512077972,"lastModifiedBy":"ErQ613O32LNYb71L"},"_id":"c5zk9sGdT4nopZYd","sort":100000}
{"name":"Compendium stats","type":"script","scope":"global","author":"6SdI10VpXHcBvx2J","img":"icons/sundries/books/book-worn-teal.webp","command":"game.arm5eCompendia.CompendiaUtils.showCompendiumStatsUI();","folder":"6Q9SpSViOfYTtLz6","ownership":{"default":0,"ErQ613O32LNYb71L":3,"6SdI10VpXHcBvx2J":3},"flags":{"socketmacros":{"isSocket":false},"core":{}},"_stats":{"compendiumSource":null,"duplicateSource":null,"coreVersion":"12.343","systemId":"arm5e","systemVersion":"2.3.2.3","createdTime":1729577300648,"modifiedTime":1764512083872,"lastModifiedBy":"ErQ613O32LNYb71L"},"_id":"lVz7HEwLkx9KKEZx","sort":200000}
{"name":"Merge and tools","type":"script","scope":"global","author":"1JBSgWiiwizu7vru","img":"icons/tools/hand/hammer-simple-stone.webp","command":"game.arm5eCompendia.CompendiaUtils.showUI();","folder":"6Q9SpSViOfYTtLz6","ownership":{"default":0,"1JBSgWiiwizu7vru":3},"flags":{"core":{}},"_stats":{"systemId":"arm5e","systemVersion":"2.2.4.12","coreVersion":"12.343","createdTime":1696576528341,"modifiedTime":1764512109469,"lastModifiedBy":"ErQ613O32LNYb71L","compendiumSource":null,"duplicateSource":null},"_id":"nJJWMRxozGq4ajjw","sort":500000}
{"name":"FIY","type":"script","command":"game.arm5eCompendia.CompendiaUtils.showFIY()","img":"icons/svg/dice-target.svg","author":"xMd6zrGNn4dbQYey","scope":"global","folder":"qGZgdsZ3cZpILlVt","ownership":{"default":0,"xMd6zrGNn4dbQYey":3},"flags":{},"_stats":{"compendiumSource":null,"duplicateSource":null,"coreVersion":"12.331","systemId":"arm5e","systemVersion":"2.3.2.26","createdTime":1743316271707,"modifiedTime":1743316271731,"lastModifiedBy":"xMd6zrGNn4dbQYey"},"_id":"nNeNDKaFnWuucWNL","sort":200000}
{"name":"Where is the item","type":"script","scope":"global","author":"ErQ613O32LNYb71L","img":"icons/svg/eye.svg","command":"// Put the item ID you are looking for here\nconst itemId = \"<ITEM_ID>\";\n\n// look in the world items\n\n\nlet item = game.items.get(itemId);\nif (item) {\n    console.log(\"Item found in the world: \" + item.name);\n    return;\n}\n\n// look into each actor\n\nfor (const a of game.actors)\n{\n    \n    item = a.items.get(itemId);\n    if (item) {\n        console.log(\"Item with id \" + itemId + \" is named \\\"\" + item.name + \"\\\" of type \\\"\" +item.type + \"\\\" is found in actor \\\"\" +a.name +\"\\\".\");\n        return;        \n    }\n}\n\nconsole.log(\"Item with id \\\"\" +itemId+ \"\\\" not found.\");","folder":"qGZgdsZ3cZpILlVt","ownership":{"default":0,"ErQ613O32LNYb71L":3},"flags":{"socketmacros":{"isSocket":false}},"_stats":{"compendiumSource":null,"duplicateSource":null,"coreVersion":"12.343","systemId":"arm5e","systemVersion":"2.4.1.4","createdTime":1764512212406,"modifiedTime":1764512212406,"lastModifiedBy":"ErQ613O32LNYb71L"},"_id":"qX13DrwNnK7wDLM4","sort":0}
{"name":"Enrich document","type":"script","command":"game.arm5eCompendia.CompendiaUtils.showDocumentEnricherUI();","img":"icons/containers/bags/coinpouch-gold-red.webp","author":"6SdI10VpXHcBvx2J","scope":"global","folder":null,"ownership":{"default":0,"6SdI10VpXHcBvx2J":3},"flags":{},"_stats":{"compendiumSource":null,"duplicateSource":null,"coreVersion":"12.343","systemId":"arm5e","systemVersion":"2.3.2.6","createdTime":1731005158275,"modifiedTime":1752389280029,"lastModifiedBy":"ErQ613O32LNYb71L"},"_id":"u3CLqR772Wz2CwX1","sort":1200000}
{"name":"Open Astrolabium","type":"script","scope":"global","author":"ErQ613O32LNYb71L","img":"icons/magic/time/hourglass-yellow-green.webp","command":"game.arm5e.ArsLayer.openAstrolab()","folder":"2uW3ICAU7LfWYfbq","ownership":{"default":0,"ErQ613O32LNYb71L":3},"flags":{"core":{}},"_stats":{"systemId":"arm5e","systemVersion":"2.2.4.12","coreVersion":"12.343","createdTime":1705161439743,"modifiedTime":1764512140785,"lastModifiedBy":"ErQ613O32LNYb71L","compendiumSource":null,"duplicateSource":null},"_id":"w4R2HGld0Gs2N1x6","sort":600000}
{"name":"Cleanup tests","type":"script","scope":"global","author":"ErQ613O32LNYb71L","img":"icons/tools/hand/broom-straw-brown.webp","command":"const actors = game.actors.filter(e=> {return e.name === \"Tiberius\" || e.name ===\"BobTheCompanion\"|| e.name ===\"The Lair of Tiberius\" || e.name ===\"The lair of Tiberius\";}).map( e => {return e.id})\n\nui.notifications.info(`${actors.length} documents selected`);\n\nawait Actor.deleteDocuments(actors )","folder":"qGZgdsZ3cZpILlVt","ownership":{"default":0,"ErQ613O32LNYb71L":3},"flags":{"socketmacros":{"isSocket":false}},"_stats":{"compendiumSource":null,"duplicateSource":null,"coreVersion":"12.343","systemId":"arm5e","systemVersion":"2.4.1.4","createdTime":1764512326075,"modifiedTime":1764512326075,"lastModifiedBy":"ErQ613O32LNYb71L"},"_id":"yBZ4SWSOH6uLS3B5","sort":0}
