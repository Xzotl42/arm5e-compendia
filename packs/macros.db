{"name":"CreateCompendiaModule","type":"script","scope":"global","author":"ErQ613O32LNYb71L","img":"icons/tools/hand/brush-paint-brown-white.webp","command":"game.arm5eCompendia.CompendiaUtils.showGeneratorDialog();","folder":null,"ownership":{"default":0,"1JBSgWiiwizu7vru":3,"ErQ613O32LNYb71L":3},"flags":{"core":{},"socketmacros":{"isSocket":false}},"_stats":{"systemId":"arm5e","systemVersion":"2.2.4.12","coreVersion":"12.331","createdTime":1696576528341,"modifiedTime":1731005158297,"lastModifiedBy":"6SdI10VpXHcBvx2J","compendiumSource":null,"duplicateSource":null},"_id":"0YZEIpzmg9wX9enu","sort":500000}
{"name":"Reset lab planning","type":"script","scope":"global","author":"tBE5EmoIXLzf3maM","img":"icons/svg/card-joker.svg","command":"const tokens = canvas.tokens.controlled;\n\nif (tokens.length == 1 ){\n  await fixLab(tokens[0]);\n} else {\n  ui.notifications.info(\"No Tokens or too many tokens were selected\");\n}\n\nasync function fixLab(token){\n  if (!token.isOwner) {\n    ui.notifications.info(\"You don't own that token\");\n  }\n  let actorSheet = token.actor.sheet;\n  if (token.actor.type === \"laboratory\") {\n    await actorSheet._resetPlanning()\n    ui.notifications.info(`Lab reset`);\n  }\n  else {\n      ui.notifications.info(`Not a lab`);\n  }\n  \n}","ownership":{"default":0,"ErQ613O32LNYb71L":3,"tBE5EmoIXLzf3maM":3},"flags":{"core":{"sourceId":"Macro.FL254GFtSFOTzooP"},"socketmacros":{"isSocket":false}},"_stats":{"compendiumSource":"Macro.FL254GFtSFOTzooP","duplicateSource":null,"coreVersion":"12.331","systemId":"arm5e","systemVersion":"2.3.2.5","createdTime":1730094485446,"modifiedTime":1731829014007,"lastModifiedBy":"ErQ613O32LNYb71L"},"folder":"qGZgdsZ3cZpILlVt","_id":"7aqQxgRlPcDky5BL","sort":0}
{"name":"Display RollData","type":"script","command":"// Display the content of RollData in the console\n// it can be used to refer to an actor stat in an inline roll\n\n// get an array with all the selected token\nconst tokens = canvas.tokens.controlled;\n\nif (tokens.length != 1 ){\n  ui.notifications.info(\"No Tokens or too many tokens were selected\");\n} else {\n  let actor = tokens[0].actor;\n  let data = actor.getRollData();\n  console.log(data);\n}","img":"icons/svg/dice-target.svg","author":"6SdI10VpXHcBvx2J","scope":"global","folder":null,"ownership":{"default":0,"6SdI10VpXHcBvx2J":3},"flags":{},"_stats":{"compendiumSource":null,"duplicateSource":null,"coreVersion":"12.331","systemId":"arm5e","systemVersion":"2.3.2.5","createdTime":1730838256561,"modifiedTime":1731005158297,"lastModifiedBy":"6SdI10VpXHcBvx2J"},"_id":"83Qwa3xUW7OCiKXQ","sort":100000}
{"name":"Open Aura management","type":"script","scope":"global","author":"ErQ613O32LNYb71L","img":"systems/arm5e/assets/icons/Icon_Effects.png","command":"game.arm5e.ArsLayer.openAuraConfig();","folder":null,"ownership":{"default":0,"ErQ613O32LNYb71L":3},"flags":{"core":{}},"_stats":{"systemId":"arm5e","systemVersion":"2.2.4.12","coreVersion":"12.331","createdTime":1705161722316,"modifiedTime":1731005158297,"lastModifiedBy":"6SdI10VpXHcBvx2J","compendiumSource":null,"duplicateSource":null},"_id":"AuzYTK1BQF3xKID4","sort":700000}
{"name":"Migrate World Icons","type":"script","scope":"global","author":"6SdI10VpXHcBvx2J","img":"icons/svg/card-hand.svg","command":"const items = game.items.filter(e => e.type == \"ability\" || e.type == \"virtue\" || e.type == \"flaw\");\nui.notifications.info(`${items.length} items found`);\n\n\n\nlet updatedItems = []\nfor (let it of items) {\n    if (it.img == CONFIG.ARM5E_DEFAULT_ICONS[it.type] ||\n    it.img === \"icons/svg/mystery-man.svg\" ||\n    it.img === \"icons/svg/item-bag.svg\") {\n        \n      console.log(it.name);\n      let itemData = {_id : it._id, img : CONFIG.Item.systemDataModels[it.type].getIcon(it)};\n      updatedItems.push(itemData);\n    }\n}\nlet updated = await Item.updateDocuments(updatedItems);\n\n\n\nui.notifications.info(`${updated.length} items updated`);","ownership":{"default":0,"ErQ613O32LNYb71L":3,"6SdI10VpXHcBvx2J":3},"flags":{"core":{"sourceId":"Macro.5yOsEAKylIbEuCl7"}},"_stats":{"compendiumSource":"Macro.5yOsEAKylIbEuCl7","duplicateSource":null,"coreVersion":"12.331","systemId":"arm5e","systemVersion":"2.3.2.7","createdTime":1731268014718,"modifiedTime":1731268014718,"lastModifiedBy":"6SdI10VpXHcBvx2J"},"folder":"qGZgdsZ3cZpILlVt","_id":"DIOTvbubqoeBH4Ky","sort":0}
{"name":"Sanitization","type":"script","scope":"global","author":"ErQ613O32LNYb71L","img":"icons/tools/hand/broom-straw-brown.webp","command":"game.arm5eCompendia.CompendiaUtils.showSanitizationTool();","folder":null,"ownership":{"default":0,"ErQ613O32LNYb71L":3},"flags":{"socketmacros":{"isSocket":false},"core":{}},"_stats":{"systemId":"arm5e","systemVersion":"2.2.4.12","coreVersion":"12.331","createdTime":1710003733506,"modifiedTime":1731005158297,"lastModifiedBy":"6SdI10VpXHcBvx2J","compendiumSource":null,"duplicateSource":null},"_id":"Dyw5EF1mv43ksFVZ","sort":400000}
{"name":"Open Scriptorium","type":"script","scope":"global","author":"ErQ613O32LNYb71L","img":"systems/arm5e/assets/icons/Icon_Details_option1.png","command":"game.arm5e.ArsLayer.openScriptorium()","folder":null,"ownership":{"default":0,"ErQ613O32LNYb71L":3},"flags":{"core":{}},"_stats":{"systemId":"arm5e","systemVersion":"2.2.4.12","coreVersion":"12.331","createdTime":1705160707113,"modifiedTime":1731005158297,"lastModifiedBy":"6SdI10VpXHcBvx2J","compendiumSource":null,"duplicateSource":null},"_id":"IaS542uskSyGncNz","sort":900000}
{"name":"Migrate icons of actor","type":"script","scope":"global","author":"6SdI10VpXHcBvx2J","img":"icons/svg/card-joker.svg","command":"const tokens = canvas.tokens.controlled;\n\nif (tokens.length == 1 ){\n  await updateIcons(tokens[0]);\n} else {\n  ui.notifications.info(\"No Tokens or too many tokens were selected\");\n}\n\nasync function updateIcons(token){\n  if (!token.isOwner) {\n    ui.notifications.info(\"You don't own that token\");\n  }\n  let actor = token.actor;\n  \n  \n  const items = actor.items.filter(e => e.type == \"ability\" || e.type == \"virtue\" || e.type == \"flaw\");\n  ui.notifications.info(`${items.length} items found`);\n\n  let updatedItems = []\n  for (let it of items) {\n    if (it.img == CONFIG.ARM5E_DEFAULT_ICONS[it.type] ||\n    it.img === \"icons/svg/mystery-man.svg\" ||\n    it.img === \"icons/svg/item-bag.svg\") {\n        \n      console.log(it.name);\n      let itemData = {_id : it._id, img : CONFIG.Item.systemDataModels[it.type].getIcon(it)};\n      updatedItems.push(itemData);\n    }\n  }\n  let updated = await actor.updateEmbeddedDocuments(\"Item\",updatedItems);\n\n  ui.notifications.info(`${updated.length} items updated`);\n  \n}","ownership":{"default":0,"ErQ613O32LNYb71L":3,"6SdI10VpXHcBvx2J":3},"flags":{"core":{"sourceId":"Macro.FL254GFtSFOTzooP"}},"_stats":{"compendiumSource":"Macro.FL254GFtSFOTzooP","duplicateSource":null,"coreVersion":"12.331","systemId":"arm5e","systemVersion":"2.3.2.7","createdTime":1731268016499,"modifiedTime":1731268016499,"lastModifiedBy":"6SdI10VpXHcBvx2J"},"folder":"qGZgdsZ3cZpILlVt","_id":"Ruj42ho3vlQDyczk","sort":0}
{"name":"Enrich document","type":"script","command":"game.arm5eCompendia.CompendiaUtils.showDocumentEnricherUI();","img":"icons/containers/bags/coinpouch-gold-red.webp","author":"6SdI10VpXHcBvx2J","scope":"global","folder":null,"ownership":{"default":0,"6SdI10VpXHcBvx2J":3},"flags":{},"_stats":{"compendiumSource":null,"duplicateSource":null,"coreVersion":"12.331","systemId":"arm5e","systemVersion":"2.3.2.7","createdTime":1731133190298,"modifiedTime":1731133190298,"lastModifiedBy":"6SdI10VpXHcBvx2J"},"_id":"VyQOime9Prr3tpxZ","sort":0}
{"name":"Actor Importer","type":"script","scope":"global","author":"ErQ613O32LNYb71L","img":"icons/sundries/books/book-embossed-steel-brown.webp","command":"game.arm5eCompendia.CompendiaUtils.showImporter();","folder":null,"ownership":{"default":0,"ErQ613O32LNYb71L":3,"6SdI10VpXHcBvx2J":3},"flags":{"socketmacros":{"isSocket":false},"core":{}},"_stats":{"compendiumSource":null,"duplicateSource":null,"coreVersion":"12.331","systemId":"arm5e","systemVersion":"2.3.2.9","createdTime":1732217471578,"modifiedTime":1732217471578,"lastModifiedBy":"ErQ613O32LNYb71L"},"_id":"c5zk9sGdT4nopZYd","sort":0}
{"name":"Compendium stats","type":"script","scope":"global","author":"6SdI10VpXHcBvx2J","img":"icons/sundries/books/book-worn-teal.webp","command":"game.arm5eCompendia.CompendiaUtils.showCompendiumStatsUI();","folder":null,"ownership":{"default":0,"ErQ613O32LNYb71L":3,"6SdI10VpXHcBvx2J":3},"flags":{"socketmacros":{"isSocket":false},"core":{}},"_stats":{"compendiumSource":null,"duplicateSource":null,"coreVersion":"12.331","systemId":"arm5e","systemVersion":"2.3.2.3","createdTime":1729577300648,"modifiedTime":1731005158297,"lastModifiedBy":"6SdI10VpXHcBvx2J"},"_id":"lVz7HEwLkx9KKEZx","sort":300000}
{"name":"Merge and tools","type":"script","scope":"global","author":"1JBSgWiiwizu7vru","img":"icons/tools/hand/hammer-simple-stone.webp","command":"game.arm5eCompendia.CompendiaUtils.showUI();","folder":null,"ownership":{"default":0,"1JBSgWiiwizu7vru":3},"flags":{"core":{}},"_stats":{"systemId":"arm5e","systemVersion":"2.2.4.12","coreVersion":"12.331","createdTime":1696576528341,"modifiedTime":1731005158297,"lastModifiedBy":"6SdI10VpXHcBvx2J","compendiumSource":null,"duplicateSource":null},"_id":"nJJWMRxozGq4ajjw","sort":800000}
{"name":"Enrich document","type":"script","command":"game.arm5eCompendia.CompendiaUtils.showDocumentEnricherUI();","img":"icons/containers/bags/coinpouch-gold-red.webp","author":"6SdI10VpXHcBvx2J","scope":"global","folder":null,"ownership":{"default":0,"6SdI10VpXHcBvx2J":3},"flags":{},"_stats":{"compendiumSource":null,"duplicateSource":null,"coreVersion":"12.331","systemId":"arm5e","systemVersion":"2.3.2.6","createdTime":1731005158275,"modifiedTime":1731005161777,"lastModifiedBy":"6SdI10VpXHcBvx2J"},"_id":"u3CLqR772Wz2CwX1","sort":1000000}
{"name":"Open Astrolabium","type":"script","scope":"global","author":"ErQ613O32LNYb71L","img":"icons/magic/time/hourglass-yellow-green.webp","command":"game.arm5e.ArsLayer.openAstrolab()","folder":null,"ownership":{"default":0,"ErQ613O32LNYb71L":3},"flags":{"core":{}},"_stats":{"systemId":"arm5e","systemVersion":"2.2.4.12","coreVersion":"12.331","createdTime":1705161439743,"modifiedTime":1731005158297,"lastModifiedBy":"6SdI10VpXHcBvx2J","compendiumSource":null,"duplicateSource":null},"_id":"w4R2HGld0Gs2N1x6","sort":600000}
